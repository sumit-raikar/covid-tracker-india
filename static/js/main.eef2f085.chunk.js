(this["webpackJsonpcovid-tracker"]=this["webpackJsonpcovid-tracker"]||[]).push([[0],{179:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(32),o=a.n(c),i=a(5),s=a(17),l=a(3),d=a(9),u=function(){var e="object"===typeof window,t=function(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}},a=Object(n.useState)(t),r=Object(d.a)(a,2),c=r[0],o=r[1];return Object(n.useEffect)((function(){if(!e)return!1;var a=function(){o(t())};return window.addEventListener("resize",a),function(){return window.removeEventListener("resize",a)}}),[]),c},v=a(14),f=a.n(v),p=a(18),m="UPDATE_LOG_REQUEST",g="UPDATE_LOG_SUCCESS",E="UPDATE_LOG_FAILURE",h="GET_COVID_COUNT_REQUEST",b="GET_COVID_COUNT_SUCCESS",O="GET_COVID_COUNT_FAILURE",S="SORT_COVID_COUNT_SUCCESS",C="SORT_DISTRICT_COVID_COUNT_SUCCESS",y="GET_COVID_WORLD_STATS_REQUEST",w="GET_COVID_WORLD_STATS_SUCCESS",j="GET_COVID_WORLD_STATS_FAILURE",T="SORT_STATASTICS_SUCCESS",D="SEARCH_STATASTICS_SUCCESS",L={updateLogActions:{getCovidUpdateLog:function(){return function(){var e=Object(p.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:m}),e.prev=1,e.next=4,fetch("https://api.covid19india.org/updatelog/log.json");case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,t({type:g,payload:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:E,payload:e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()}},getStateCovidCountActions:{getStateCovidCount:function(){return function(){var e=Object(p.a)(f.a.mark((function e(t){var a,n,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:h}),e.prev=1,e.next=4,fetch("https://api.covid19india.org/data.json");case 4:return a=e.sent,e.next=7,fetch("https://api.covid19india.org/state_district_wise.json");case 7:return n=e.sent,e.next=10,a.json();case 10:return r=e.sent,e.next=13,n.json();case 13:c=e.sent,t({type:b,payload:r,extraData:c}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),t({type:O,payload:e.t0});case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}()},sortCovidCount:function(e,t){return{type:S,payload:{data:e,sortOrder:t}}},sortDistrictCovidCount:function(e,t){return{type:C,payload:{data:e,sortOrder:t}}}},worldStatasticsAction:{getAllCountryStatastics:function(){return function(){var e=Object(p.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:y}),e.prev=1,e.next=4,fetch("https://covid-193.p.rapidapi.com/statistics",{headers:{"x-rapidapi-host":"covid-193.p.rapidapi.com","x-rapidapi-key":"72f8bce3f5msh3ff2719a55f3a4ep18cdb0jsne780cae29258",useQueryString:!0}});case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,t({type:w,payload:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:j,payload:e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},sortStatastics:function(e,t){return console.log(e,t),{type:T,payload:{data:e,sortOrder:t}}},searchStatastics:function(e){return console.log(e),{type:D,payload:e}}}},_=(a(79),a(80),function(e){var t=e.textToShow;return r.a.createElement("div",{className:"slide-left"},r.a.createElement("p",null,t))}),A=function(){var e=Object(n.useState)(),t=Object(d.a)(e,2),a=t[0],c=t[1],o=Object(i.c)((function(e){return e.updateLogReducer.updateLogs})),s=Object(i.b)();return Object(n.useEffect)((function(){0===o.length&&s(L.updateLogActions.getCovidUpdateLog())}),[]),Object(n.useEffect)((function(){for(var e=!1,t=function(t){setTimeout((function(){var a=o[t].timestamp,n=a.getFullYear(),r=("0"+(a.getMonth()+1)).slice(-2),i=("0"+a.getDate()).slice(-2),s=("0"+a.getHours()).slice(-2),l=("0"+a.getMinutes()).slice(-2),d=("0"+a.getSeconds()).slice(-2);e||c(o[t].update.concat(" DateTime ",n,"-",r,"-",i," ",s,":",l,":",d))}),3e3*t)},a=0;a<o.length;a+=1)t(a);return function(){e=!0}}),[o.length]),r.a.createElement("div",{className:"update-log-container"},r.a.createElement(_,{textToShow:a}),0===o.length&&r.a.createElement("div",null,"Loading..."))},R=(a(81),function(){return r.a.createElement("div",{className:"quick-log-container"},r.a.createElement("div",{className:"quickLog"},"Quick Update"))}),k=function(){var e=u();return r.a.createElement("div",null,e.width>="900"&&r.a.createElement(A,null),e.width<="900"&&r.a.createElement(R,null))},N=a(10),U=function(e){var t=e.headings,a=e.action,c=Object(n.useState)([]),o=Object(d.a)(c,2),i=o[0],s=o[1];Object(n.useEffect)((function(){var e=[];t.forEach((function(t){e.push("asc")})),s(e)}),[t.length]);return r.a.createElement("thead",null,r.a.createElement("tr",null,t.map((function(e,t){return r.a.createElement("th",{key:"heading-".concat(t),onClick:function(){e.sorting&&function(e,t){console.log(e,i[t]),console.log(i);var n=[];i.forEach((function(e,a){a===t&&n.push("asc"===e?"desc":"asc"),n.push("asc")})),s(n),a(e.ref,i[t])}(e,t)}},e.label,e.sorting&&r.a.createElement("span",{className:"sort-order"},i[t]))}))))},W=(a(82),function(e){var t=e.data,a=e.headings,c=e.subHeadings,o=(e.onlinkClick,e.subAction),i=Object(n.useState)([]),l=Object(d.a)(i,2),u=l[0],v=l[1],f=function(e,t){var n=[r.a.createElement("tr",{onClick:function(){!function(e){if(e.rowClickEnable){var t=u,a=u.includes(e.statecode)?t.filter((function(t){return t!==e.statecode})):t.concat(e.statecode);v(a)}}(e)},key:e.key+t.toString()},a.map((function(t,a){var n="delta".concat(t.ref),c="1m".concat(t.ref);return r.a.createElement("td",{key:e.key+a.toString()},r.a.createElement("div",{className:"table-body-cell-container"},r.a.createElement("div",null,r.a.createElement("div",null,e[n]),r.a.createElement("div",null,e[t.ref]),e[c]&&r.a.createElement("div",null,"1M-POP, ",e[c])),r.a.createElement("div",null,r.a.createElement("div",{onClick:function(e){e.stopPropagation()}},t.route&&r.a.createElement(s.b,{to:t.route?e.routeLink+"/".concat(e.state):""},"Open new")))))})))];return u.includes(e.statecode)&&n.push(r.a.createElement("tr",{key:"row-expanded-"+e.statecode},r.a.createElement("td",{colSpan:a.length},r.a.createElement(x,{headings:c,data:e.districtWiseData,action:o})))),n};return r.a.createElement("thead",null,function(){var e=[];if(0!==t.length)return t.forEach((function(t,a){var n=f(t,a);e=e.concat(n)})),e}())}),x=function(e){return Object(n.useEffect)((function(){}),[]),r.a.createElement("table",null,r.a.createElement(U,{headings:e.headings,action:e.action}),r.a.createElement(W,{headings:e.headings,data:e.data,subHeadings:e.subHeadings,subAction:e.subAction}))},I=[{ref:"state",label:"State",route:!0,sorting:!0},{ref:"confirmed",label:"Confirmed",sorting:!0},{ref:"active",label:"Active",sorting:!0},{ref:"recovered",label:"Recovered",sorting:!0},{ref:"deceased",label:"Deceased",sorting:!0}],F=[{ref:"district",label:"District",sorting:!0},{ref:"confirmed",label:"Confirmed",sorting:!0},{ref:"active",label:"Active",sorting:!0},{ref:"recovered",label:"Recovered",sorting:!0},{ref:"deceased",label:"Deceased",sorting:!0}],H=null,P=null;var V=function(){var e=Object(i.c)((function(e){return e.indiaCovidCountReducer.stateWiseCovidCount})),t=Object(i.b)();return Object(n.useEffect)((function(){console.log("get india covid count"),0===e.length&&t(L.getStateCovidCountActions.getStateCovidCount())}),[]),Object(n.useEffect)((function(){console.log("get india covid count")}),[]),null===H&&(H=Object(N.b)(L.getStateCovidCountActions.sortCovidCount,t)),console.log(H),null===P&&(P=Object(N.b)(L.getStateCovidCountActions.sortDistrictCovidCount,t)),console.log(P),r.a.createElement("div",null,r.a.createElement(x,{headings:I,data:e,subHeadings:F,action:H,subAction:P}))},G=(a(84),function(){var e=Object(i.c)((function(e){return e.indiaCovidCountReducer.stateWiseCovidCount})),t=null;return e.length>=1&&(t=e.filter((function(e){return"Total"===e.state&&"TT"===e.statecode}))),null===t?r.a.createElement("div",null,"Loading total india covid status..."):r.a.createElement("div",{className:"india-covid-status"},r.a.createElement("div",null,r.a.createElement("div",null,"Confirmed"),r.a.createElement("div",null,t[0].confirmed)),r.a.createElement("div",null,r.a.createElement("div",null,"Active"),r.a.createElement("div",null,t[0].active)),r.a.createElement("div",null,r.a.createElement("div",null,"Recovered"),r.a.createElement("div",null,t[0].recovered)),r.a.createElement("div",null,r.a.createElement("div",null,"Deseased"),r.a.createElement("div",null,t[0].deceased)))}),J=a(4),M=function(e){var t=e.description,a=e.tableHeadings,n=e.tableData;return r.a.createElement("div",null,r.a.createElement("div",null,t),r.a.createElement("div",null,r.a.createElement(x,{headings:a,data:n})))},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(a,n){if(!a.hasOwnProperty(e)||!n.hasOwnProperty(e))return 0;var r=isNaN(Number(a[e]))?a[e].toUpperCase():Number(a[e]),c=isNaN(Number(n[e]))?n[e].toUpperCase():Number(n[e]),o=0;return r>c?o=1:r<c&&(o=-1),"desc"===t?-1*o:o}},Q=(a(85),[{desc:"Top 3 cities with highest ACTIVE covid case",tableHeading:[{ref:"cityState",label:"City,State"},{ref:"active",label:"Active"}],tableData:[],criteria:"active"},{desc:"Top 3 cities with highest covid case FOUND TODAY",tableHeading:[{ref:"cityState",label:"City,State"},{ref:"cases",label:"Cases"}],tableData:[],criteria:"highest"},{desc:"Top 3 cities with highest covid case RECOVERED",tableHeading:[{ref:"cityState",label:"City,State"},{ref:"totalRecovered",label:"Total Recovered"}],tableData:[],criteria:"totalRecovered"},{desc:"Top 3 cities with highest covid case RECOVERED TODAY",tableHeading:[{ref:"cityState",label:"City,State"},{ref:"recoveredToday",label:"Recovered Today"}],tableData:[],criteria:"recoveredToday"}]);function Y(e,t){if("active"===t){var a=[];return e.forEach((function(e){e.hasOwnProperty("districtWiseData")&&e.districtWiseData.forEach((function(t){a.push({cityState:"".concat(t.district,", ").concat(e.state),active:t.active})}))})),a.sort(B("active","desc")),a.slice(0,3)}if("highest"===t){var n=[];return e.forEach((function(e){e.hasOwnProperty("districtWiseData")&&e.districtWiseData.forEach((function(t){n.push({cityState:"".concat(t.district,", ").concat(e.state),cases:t.deltaconfirmed})}))})),console.log(n),n.sort(B("cases","desc")),n.slice(0,3)}if("totalRecovered"===t){var r=[];return e.forEach((function(e){e.hasOwnProperty("districtWiseData")&&e.districtWiseData.forEach((function(t){r.push({cityState:"".concat(t.district,", ").concat(e.state),totalRecovered:t.recovered})}))})),console.log(r),r.sort(B("totalRecovered","desc")),r.slice(0,3)}if("recoveredToday"===t){var c=[];return e.forEach((function(e){e.hasOwnProperty("districtWiseData")&&e.districtWiseData.forEach((function(t){c.push({cityState:"".concat(t.district,", ").concat(e.state),recoveredToday:t.deltarecovered})}))})),console.log(c),c.sort(B("recoveredToday","desc")),c.slice(0,3)}}var q=function(){var e=Object(n.useState)(Q),t=Object(d.a)(e,2),a=t[0],c=t[1],o=Object(i.c)((function(e){return e.indiaCovidCountReducer.stateWiseCovidCount})),s=Object(i.c)((function(e){return e.indiaCovidCountReducer.isLoading}));return console.log(s),Object(n.useEffect)((function(){var e;e=a.map((function(e){return Object(J.a)({},e,{tableData:Y(o,e.criteria)})})),c(e)}),[o.length]),r.a.createElement("div",{className:"top-3-state-container"},s&&r.a.createElement("div",null,"Loading short news..."),!s&&r.a.createElement(r.a.Fragment,null,a.map((function(e,t){return r.a.createElement(M,{key:t,description:e.desc,tableHeadings:e.tableHeading,tableData:e.tableData})}))))};a(86);var z=function(){return r.a.createElement("div",{className:"home-page-container"},r.a.createElement(k,null),r.a.createElement(G,null),r.a.createElement("div",{className:"icc-table-top-3-state"},r.a.createElement("div",{className:"icc-table"},r.a.createElement(V,null)),r.a.createElement("div",null,r.a.createElement(q,null))))};var $=function(){return r.a.createElement("div",null,r.a.createElement(z,null))};var K=r.a.memo((function(e){var t=e.headings,a=e.data,n=e.action;return r.a.createElement("div",null,r.a.createElement(x,{headings:t,data:a,action:n}))}),(function(e,t){return!1})),X=a(65),Z={labels:["Red","Green","Yellow"],datasets:[{data:[300,50,100],backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]},ee=[{ref:"country",label:"Country",sorting:!0},{ref:"total",label:"Total",sorting:!0},{ref:"active",label:"Active",sorting:!0},{ref:"recovered",label:"Recovered",sorting:!0},{ref:"death",label:"Deseased",sorting:!0},{ref:"tests",label:"Total covid tests",sorting:!0},{ref:"population",label:"Population",sorting:!0},{ref:"lastUpdated",label:"Last Updated",sorting:!0}],te=null;var ae=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],o=Object(i.c)((function(e){return e.worldStatsReducer.worldStats})),s=Object(i.c)((function(e){return e.worldStatsReducer.isLoading})),l=Object(i.b)();return null===te&&(te=Object(N.b)(L.worldStatasticsAction.sortStatastics,l)),Object(n.useEffect)((function(){0===o.length&&l(L.worldStatasticsAction.getAllCountryStatastics())}),[]),r.a.createElement("div",null,s?r.a.createElement("div",null,"Loading world data..."):r.a.createElement("div",null,r.a.createElement("div",null,"search any country: ",r.a.createElement("input",{value:a,onChange:function(e){c(e.target.value),l(L.worldStatasticsAction.searchStatastics(e.target.value))}})),r.a.createElement(K,{headings:ee,data:o,action:te}),r.a.createElement(X.a,{data:Z})))};a(179);var ne=function(){return r.a.createElement("div",{className:"header-container"},r.a.createElement("div",null,r.a.createElement(s.b,{to:"/"},"LOGO")),r.a.createElement("div",null,r.a.createElement(s.b,{to:"/world"},"World")),r.a.createElement("div",null,"Space"))},re=a(67),ce=a(68),oe=a.n(ce),ie={isLoading:!1,updateLogs:[],error:""},se=function(e,t){return e.concat(t)},le=function(e){return e.map((function(e){var t,a=e.update.split("\n"),n=(t=e.timestamp,new Date(1e3*t));return{update:a.length>1?a.reduce(se,""):e.update,timestamp:n}}))},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(J.a)({},e,{isLoading:!0,error:""});case g:return Object(J.a)({},e,{isLoading:!1,updateLogs:le(t.payload)});case E:return Object(J.a)({},e,{isLoading:!1,updateLogs:[],error:t.payload});default:return e}},ue=a(15),ve=function(e,t){return Math.random()*(t-e)+e},fe={isLoading:!1,stateWiseCovidCount:[],statewiseDistrictData:[],error:""},pe=function(e){var t=[];for(var a in e)t.push({district:a,confirmed:e[a].confirmed,active:e[a].active,recovered:e[a].recovered,deceased:e[a].deceased,deltaconfirmed:e[a].delta.confirmed,deltadeceased:e[a].delta.deceased,deltarecovered:e[a].delta.recovered,key:ve(1,100)});return t},me=function(e,t){console.log("extraData",t);var a=[],n=null;return e.statewise.forEach((function(e){if("Total"!==e.state&&"TT"!==e.statecode){var r=t[e.state];a.push({confirmed:e.confirmed,active:e.active,recovered:e.recovered,deceased:e.deaths,deltaconfirmed:e.deltaconfirmed,deltadeceased:e.deltadeaths,deltarecovered:e.deltarecovered,state:e.state,statecode:e.statecode,lastupdatedtime:e.lastupdatedtime,districtWiseData:pe(r.districtData),rowClickEnable:!0,key:ve(1e3,1e4),routeLink:"/state"})}else n={confirmed:e.confirmed,active:e.active,recovered:e.recovered,deceased:e.deaths,deltaconfirmed:e.deltaconfirmed,deltadeceased:e.deltadeaths,deltarecovered:e.deltarecovered,state:e.state,statecode:e.statecode,lastupdatedtime:e.lastupdatedtime,key:ve(1e3,1e4)}})),a.push(n),a},ge=function(e,t){var a=t.data,n=t.sortOrder;return JSON.parse(JSON.stringify(e)).sort(B(a,n))},Ee=function(e,t){var a=t.data,n=t.sortOrder;return console.log(a,n),JSON.parse(JSON.stringify(e)).map((function(e){return console.log(e),"Total"!==e.state&&"TT"!==e.statecode?Object(J.a)({},e,{districtWiseData:e.districtWiseData.sort(B(a,n))}):Object(J.a)({},e)}))},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(J.a)({},e,{isLoading:!0,error:""});case b:return Object(J.a)({},e,{isLoading:!1,stateWiseCovidCount:me(t.payload,t.extraData),statewiseDistrictData:t.extraData});case O:return Object(J.a)({},e,{isLoading:!1,stateWiseCovidCount:[],error:t.payload});case S:var a=ge(e.stateWiseCovidCount,t.payload);return Object(J.a)({},e,{isLoading:!1,stateWiseCovidCount:Object(ue.a)(a),error:""});case C:var n=Ee(e.stateWiseCovidCount,t.payload);return Object(J.a)({},e,{isLoading:!1,stateWiseCovidCount:Object(ue.a)(n),error:""});default:return e}},be=function(e,t){return Math.random()*(t-e)+e},Oe={isLoading:!1,worldStats:[],worldStateForSearch:[],error:""},Se=function(e){console.log(e);return e.response.map((function(e){return{country:e.country,total:e.cases.total,active:e.cases.active,recovered:e.cases.recovered,death:e.deaths.total,tests:e.tests.total,population:e.population,lastUpdated:e.time,deltaactive:e.cases.new,deltadeath:e.deaths.new,"1mactive":e.cases["1M_pop"],"1mdeath":e.deaths["1M_pop"],"1mpopulation":e.tests["1M_pop"],key:be(2e3,3e3)}}))},Ce=function(e,t){var a=t.data,n=t.sortOrder;return JSON.parse(JSON.stringify(e)).sort(B(a,n))},ye=function(e,t){console.log("asdasdadadsa");var a=JSON.parse(JSON.stringify(e)).filter((function(e){return e.country.toUpperCase().indexOf(t.toUpperCase())>=0}));return console.log(a),a},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(J.a)({},e,{isLoading:!0,error:""});case w:var a=Se(t.payload);return Object(J.a)({},e,{isLoading:!1,worldStats:Object(ue.a)(a),worldStateForSearch:Object(ue.a)(a)});case j:return Object(J.a)({},e,{isLoading:!1,worldStats:[],worldStateForSearch:[],error:t.payload});case T:var n=Ce(e.worldStats,t.payload);return Object(J.a)({},e,{isLoading:!1,worldStats:Object(ue.a)(n),error:""});case D:var r=ye(e.worldStateForSearch,t.payload);return Object(J.a)({},e,{isLoading:!1,worldStats:Object(ue.a)(r),error:""});default:return e}},je=Object(N.c)({updateLogReducer:de,indiaCovidCountReducer:he,worldStatsReducer:we}),Te=Object(N.a)(re.a,oe.a),De=Object(N.d)(je,Te);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(180);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:De},r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(ne,null),r.a.createElement("div",null,"THIS IS NOT OFFICIAL WEBSITE"),r.a.createElement(l.a,{exact:!0,path:"/",component:$}),r.a.createElement(l.a,{path:"/world",component:ae}),r.a.createElement(l.a,{path:"/state/:stateVal",component:function(){return r.a.createElement("div",null,"fgh")}}))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},69:function(e,t,a){e.exports=a(181)},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){}},[[69,1,2]]]);
//# sourceMappingURL=main.eef2f085.chunk.js.map